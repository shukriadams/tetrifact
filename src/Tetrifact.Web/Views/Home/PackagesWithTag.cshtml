@using Tetrifact.Core;
@{
    string tag = ViewData["tag"] as string;
    ViewData["Title"] = $"Packages tagged with \"{tag}\"";
    Layout = "~/Views/Shared/_Layout.cshtml";
    IEnumerable<Package> packages = ViewData["packages"] as IEnumerable<Package>;
}

<div>
    @if (packages.Any())
    {
        <ul>
            @foreach (Package package in packages)
            {
                <li class="listItem">
                    <a href="/package/@package.Id">@package.Id</a> <div class="subtext">(@package.CreatedUtc.ToIso() - @package.CreatedUtc.Ago() ago)</div>
                </li>
            }
        </ul>
    }
    else
    {
        <text>
            No packages found for this tag.
        </text>
    }
</div>